{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Button,Form,Spinner}from\"react-bootstrap\";import{useDispatch,useSelector}from\"react-redux\";import{useNavigate}from\"react-router-dom\";import{VerifyAthelete}from\"../../features/apiCall\";import\"../../styles/modal.css\";import BootstrapModal from\"./Components/BootstrapModal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const DoctorSelectUser=()=>{const{isFetching}=useSelector(state=>state.auth);const[selectedUserType,setSelectedUserType]=useState(\"\");const[showModal,setShowModal]=useState(false);const navigate=useNavigate();const dispatch=useDispatch();useEffect(()=>{localStorage.removeItem(\"selectedService\");localStorage.removeItem(\"client_id\");},[]);const handleSubmit=e=>{e.preventDefault();// Prevent the default form submission\nif(selectedUserType===\"New\"){navigate(\"/doctor/dashboard/client_form\");}else if(selectedUserType===\"Existing\"){console.log(\"modal opened for verification\");setShowModal(true);}};const handleUserTypeChange=event=>{setSelectedUserType(event.target.value);};const handleVerification=async email=>{console.log(email);try{const success=await VerifyAthelete(dispatch,{email});if(success){navigate(\"/doctor/dashboard/doctor-service-selection\");}}catch(error){alert(error);}setShowModal(false);// Close the modal after verification\n};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"text-center d-flex flex-column justify-content-center align-items-center select-user\",style:{gap:\"3vh\",width:\"40%\"},children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/areseliteLogo.png\",width:100,alt:\"logo\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Please select Type of user\"}),/*#__PURE__*/_jsxs(Form,{className:\"d-flex flex-wrap justify-content-center \",style:{gap:\"24px\"},onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Form.Check,{type:\"radio\",id:\"newUser\",label:\"New\",value:\"New\",checked:selectedUserType===\"New\",onChange:handleUserTypeChange,className:\"doctor-user \".concat(selectedUserType===\"New\"?\"checked\":\"\")}),/*#__PURE__*/_jsx(Form.Check,{type:\"radio\",id:\"existingUser\",label:\"Existing\",value:\"Existing\",checked:selectedUserType===\"Existing\",onChange:handleUserTypeChange,className:\"doctor-user \".concat(selectedUserType===\"Existing\"?\"checked\":\"\")}),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"purple-button \",style:{width:\"332px\",height:\"62px\"},disabled:!selectedUserType,children:\"Continue\"})]})]}),/*#__PURE__*/_jsx(BootstrapModal,{showModal:showModal,handleClose:()=>setShowModal(false),modalTitle:\"Please enter email to verify\",modalContent:/*#__PURE__*/_jsx(ModalContent,{handleClose:()=>setShowModal(false),handleVerification:handleVerification}),className:\"verification-athelete\"})]});};export default DoctorSelectUser;const ModalContent=_ref=>{let{handleClose,handleVerification}=_ref;const[email,setEmail]=useState(\"\");const{isFetching}=useSelector(state=>state.auth);const handleSubmit=e=>{e.preventDefault();handleVerification(email);};return/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Form.Control,{type:\"email\",name:\"email\",placeholder:\"Enter Existing Email ID\",onChange:e=>setEmail(e.target.value),value:email,className:\"mb-3 \"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleClose,className:\"bt-2 w-25\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bt-2 w-25 bt-3\",children:isFetching?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Spinner,{size:\"sm\",animation:\"border\"})}):/*#__PURE__*/_jsx(_Fragment,{children:\"Verify\"})})]})});};","map":{"version":3,"names":["React","useEffect","useState","Button","Form","Spinner","useDispatch","useSelector","useNavigate","VerifyAthelete","BootstrapModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DoctorSelectUser","isFetching","state","auth","selectedUserType","setSelectedUserType","showModal","setShowModal","navigate","dispatch","localStorage","removeItem","handleSubmit","e","preventDefault","console","log","handleUserTypeChange","event","target","value","handleVerification","email","success","error","alert","children","className","style","gap","width","src","alt","onSubmit","Check","type","id","label","checked","onChange","concat","height","disabled","handleClose","modalTitle","modalContent","ModalContent","_ref","setEmail","Control","name","placeholder","onClick","size","animation"],"sources":["/Users/charupatelbaghi/ares-elite/src/components/layout/DoctorSelectUser.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Button, Form, Spinner } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { VerifyAthelete } from \"../../features/apiCall\";\nimport \"../../styles/modal.css\";\nimport BootstrapModal from \"./Components/BootstrapModal\";\n\nconst DoctorSelectUser = () => {\n  const { isFetching } = useSelector((state) => state.auth);\n  const [selectedUserType, setSelectedUserType] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  useEffect(() => {\n    localStorage.removeItem(\"selectedService\");\n    localStorage.removeItem(\"client_id\");\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault(); // Prevent the default form submission\n    if (selectedUserType === \"New\") {\n      navigate(\"/doctor/dashboard/client_form\");\n    } else if (selectedUserType === \"Existing\") {\n      console.log(\"modal opened for verification\");\n      setShowModal(true);\n    }\n  };\n\n  const handleUserTypeChange = (event) => {\n    setSelectedUserType(event.target.value);\n  };\n\n  const handleVerification = async (email) => {\n    console.log(email);\n    try {\n      const success = await VerifyAthelete(dispatch, { email });\n      if (success) {\n        navigate(\"/doctor/dashboard/doctor-service-selection\");\n      }\n    } catch (error) {\n      alert(error);\n    }\n    setShowModal(false); // Close the modal after verification\n  };\n\n  return (\n    <>\n      <section\n        className=\"text-center d-flex flex-column justify-content-center align-items-center select-user\"\n        style={{ gap: \"3vh\", width: \"40%\" }}\n      >\n        <img src=\"/images/areseliteLogo.png\" width={100} alt=\"logo\" />\n        <h5>Please select Type of user</h5>\n        <Form\n          className=\"d-flex flex-wrap justify-content-center \"\n          style={{ gap: \"24px\" }}\n          onSubmit={handleSubmit}\n        >\n          <Form.Check\n            type=\"radio\"\n            id=\"newUser\"\n            label=\"New\"\n            value=\"New\"\n            checked={selectedUserType === \"New\"}\n            onChange={handleUserTypeChange}\n            className={`doctor-user ${\n              selectedUserType === \"New\" ? \"checked\" : \"\"\n            }`}\n          />\n\n          <Form.Check\n            type=\"radio\"\n            id=\"existingUser\"\n            label=\"Existing\"\n            value=\"Existing\"\n            checked={selectedUserType === \"Existing\"}\n            onChange={handleUserTypeChange}\n            className={`doctor-user ${\n              selectedUserType === \"Existing\" ? \"checked\" : \"\"\n            }`}\n          />\n\n          <Button\n            type=\"submit\"\n            className=\"purple-button \"\n            style={{ width: \"332px\", height: \"62px\" }}\n            disabled={!selectedUserType}\n          >\n            Continue\n          </Button>\n        </Form>\n      </section>\n      <BootstrapModal\n        showModal={showModal}\n        handleClose={() => setShowModal(false)}\n        modalTitle={\"Please enter email to verify\"}\n        modalContent={\n          <ModalContent\n            handleClose={() => setShowModal(false)}\n            handleVerification={handleVerification}\n          />\n        }\n        className=\"verification-athelete\"\n      />\n    </>\n  );\n};\n\nexport default DoctorSelectUser;\nconst ModalContent = ({ handleClose, handleVerification }) => {\n  const [email, setEmail] = useState(\"\");\n  const { isFetching } = useSelector((state) => state.auth);\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    handleVerification(email);\n  };\n\n  return (\n    <section>\n      <Form onSubmit={handleSubmit}>\n        <Form.Control\n          type=\"email\"\n          name=\"email\"\n          placeholder=\"Enter Existing Email ID\"\n          onChange={(e) => setEmail(e.target.value)}\n          value={email}\n          className=\"mb-3 \"\n        />\n        <button type=\"button\" onClick={handleClose} className=\"bt-2 w-25\">\n          Close\n        </button>\n\n        <button type=\"submit\" className=\"bt-2 w-25 bt-3\">\n          {isFetching ? (\n            <>\n              <Spinner size=\"sm\" animation=\"border\" />\n            </>\n          ) : (\n            <>Verify</>\n          )}\n        </button>\n      </Form>\n    </section>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}