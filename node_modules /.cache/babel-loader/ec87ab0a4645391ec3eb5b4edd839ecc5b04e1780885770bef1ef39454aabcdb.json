{"ast":null,"code":"import{createSlice}from\"@reduxjs/toolkit\";const token=localStorage.getItem(\"userToken\");const user=localStorage.getItem(\"userId\");const userName=localStorage.getItem(\"userName\");const userEmail=localStorage.getItem(\"userEmail\");const authSlice=createSlice({name:\"auth\",initialState:{user,userName,userEmail,token:token,isFetching:false,error:false// errMsg: \"\",\n},reducers:{setProfile:(state,action)=>{var _action$payload,_action$payload2,_action$payload3;state.userName=(_action$payload=action.payload)===null||_action$payload===void 0?void 0:_action$payload.name;state.userEmail=(_action$payload2=action.payload)===null||_action$payload2===void 0?void 0:_action$payload2.email;state.userPhoneNumber=(_action$payload3=action.payload)===null||_action$payload3===void 0?void 0:_action$payload3.phoneNumber;},loginStart:(state,action)=>{state.isFetching=true;state.error=false;},loginSuccess:(state,action)=>{var _action$payload4,_action$payload4$user,_action$payload5,_action$payload5$user,_action$payload$user_,_action$payload6;// state.errMsg = \"\";\nstate.error=false;state.isFetching=false;state.user=action===null||action===void 0?void 0:(_action$payload4=action.payload)===null||_action$payload4===void 0?void 0:(_action$payload4$user=_action$payload4.user_data)===null||_action$payload4$user===void 0?void 0:_action$payload4$user._id;state.userName=action===null||action===void 0?void 0:(_action$payload5=action.payload)===null||_action$payload5===void 0?void 0:(_action$payload5$user=_action$payload5.user_data)===null||_action$payload5$user===void 0?void 0:_action$payload5$user.fullname;state.userEmail=action===null||action===void 0?void 0:(_action$payload$user_=action.payload.user_data)===null||_action$payload$user_===void 0?void 0:_action$payload$user_.email;state.token=action===null||action===void 0?void 0:(_action$payload6=action.payload)===null||_action$payload6===void 0?void 0:_action$payload6.token;localStorage.setItem(\"userToken\",state.token);localStorage.setItem(\"userId\",state.user);localStorage.setItem(\"userName\",state.userName);localStorage.setItem(\"userEmail\",state.userEmail);},loginFailure:(state,action)=>{state.errMsg=action.payload;state.isFetching=false;state.error=true;},logOut:(state,action)=>{state.user=null;state.token=null;localStorage.removeItem(\"userId\");localStorage.removeItem(\"userToken\");}}});export const{setProfile,logOut,loginStart,loginSuccess,loginFailure}=authSlice.actions;export default authSlice.reducer;","map":{"version":3,"names":["createSlice","token","localStorage","getItem","user","userName","userEmail","authSlice","name","initialState","isFetching","error","reducers","setProfile","state","action","_action$payload","_action$payload2","_action$payload3","payload","email","userPhoneNumber","phoneNumber","loginStart","loginSuccess","_action$payload4","_action$payload4$user","_action$payload5","_action$payload5$user","_action$payload$user_","_action$payload6","user_data","_id","fullname","setItem","loginFailure","errMsg","logOut","removeItem","actions","reducer"],"sources":["/Users/charupatelbaghi/ares-elite/src/features/authSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst token = localStorage.getItem(\"userToken\");\nconst user = localStorage.getItem(\"userId\");\nconst userName = localStorage.getItem(\"userName\");\nconst userEmail = localStorage.getItem(\"userEmail\");\n\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState: {\n    user,\n    userName,\n    userEmail,\n    token: token,\n    isFetching: false,\n    error: false,\n    // errMsg: \"\",\n  },\n  reducers: {\n    setProfile: (state, action) => {\n      state.userName = action.payload?.name;\n      state.userEmail = action.payload?.email;\n      state.userPhoneNumber = action.payload?.phoneNumber;\n    },\n\n    loginStart: (state, action) => {\n      state.isFetching = true;\n      state.error = false;\n    },\n    loginSuccess: (state, action) => {\n      // state.errMsg = \"\";\n      state.error = false;\n      state.isFetching = false;\n      state.user = action?.payload?.user_data?._id;\n      state.userName = action?.payload?.user_data?.fullname;\n      state.userEmail = action?.payload.user_data?.email;\n      state.token = action?.payload?.token;\n\n      localStorage.setItem(\"userToken\", state.token);\n      localStorage.setItem(\"userId\", state.user);\n      localStorage.setItem(\"userName\", state.userName);\n      localStorage.setItem(\"userEmail\", state.userEmail);\n    },\n    loginFailure: (state, action) => {\n      state.errMsg = action.payload;\n      state.isFetching = false;\n      state.error = true;\n    },\n\n    logOut: (state, action) => {\n      state.user = null;\n      state.token = null;\n      localStorage.removeItem(\"userId\");\n      localStorage.removeItem(\"userToken\");\n    },\n  },\n});\n\nexport const { setProfile, logOut, loginStart, loginSuccess, loginFailure } =\n  authSlice.actions;\nexport default authSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}